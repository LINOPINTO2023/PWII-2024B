let palabra,palabraArray,palabraOculta,errores,palabrasSimples=["GATO","PERRO","CASA","SOL","LUNA","AGUA"],canvas=document.getElementById("ahorcadoCanvas"),ctx=canvas.getContext("2d"),palabraHTML=document.getElementById("palabra"),teclado=document.getElementById("teclado"),botonReiniciar=document.getElementById("botonReiniciar"),mensajeFinal=document.getElementById("mensajeFinal");function inicializarJuego(){palabra=palabrasSimples[Math.floor(Math.random()*palabrasSimples.length)],palabraArray=palabra.split(""),palabraOculta=Array(palabra.length).fill("_"),errores=0,ctx.clearRect(0,0,canvas.width,canvas.height),ctx.beginPath(),mensajeFinal.textContent="",mensajeFinal.style.display="none",dibujarBaseYPoste(),palabraHTML.textContent=palabraOculta.join(" "),teclado.innerHTML="","ABCDEFGHIJKLMNÑOPQRSTUVWXYZ".split("").forEach(a=>{let e=document.createElement("div");e.textContent=a,e.classList.add("tecla"),e.addEventListener("click",()=>manejarLetra(a,e)),teclado.appendChild(e)}),botonReiniciar.style.display="none"}function dibujarBaseYPoste(){ctx.moveTo(10,190),ctx.lineTo(100,190),ctx.stroke(),ctx.moveTo(55,190),ctx.lineTo(55,50),ctx.stroke(),ctx.moveTo(55,50),ctx.lineTo(120,50),ctx.stroke(),ctx.moveTo(120,50),ctx.lineTo(120,80),ctx.stroke()}function dibujarAhorcado(a){switch(ctx.beginPath(),a){case 1:ctx.beginPath(),ctx.arc(120,90,10,0,2*Math.PI),ctx.stroke();break;case 2:ctx.moveTo(120,100),ctx.lineTo(120,140),ctx.stroke();break;case 3:ctx.moveTo(120,110),ctx.lineTo(100,130),ctx.stroke();break;case 4:ctx.moveTo(120,110),ctx.lineTo(140,130),ctx.stroke();break;case 5:ctx.moveTo(120,140),ctx.lineTo(100,170),ctx.stroke();break;case 6:ctx.moveTo(120,140),ctx.lineTo(140,170),ctx.stroke(),mostrarMensajeFinal(`¡Juego terminado! Has perdido. La palabra correcta era "${palabra}".`,!1)}}function manejarLetra(t,a){a.classList.add("disabled"),palabraArray.includes(t)?(palabraArray.forEach((a,e)=>{a===t&&(palabraOculta[e]=t)}),palabraHTML.textContent=palabraOculta.join(" "),palabraOculta.join("")===palabra&&mostrarMensajeFinal("¡Felicidades! Has ganado.",!0)):dibujarAhorcado(++errores)}function mostrarBotonReiniciar(){botonReiniciar.style.display="inline-block"}function desactivarTeclado(){document.querySelectorAll(".tecla").forEach(a=>a.classList.add("disabled"))}function mostrarMensajeFinal(a,e){mensajeFinal.textContent=a,mensajeFinal.style.display="block",desactivarTeclado(),mostrarBotonReiniciar()}function reiniciarJuego(){inicializarJuego()}inicializarJuego();