const canvas=document.getElementById("Canvas");const ctx=canvas.getContext("2d");let listaPalabras=["PROGRAMACION","CANVAS","HTML","CSS","JAVASCRIPT","CHISTEMAS"];let palabraSecreta;let letrasAdivinadas=[];let intentosFallidos=0;const maxIntentos=6;function empezarJuego(){document.getElementById("Canvas").style.display="block";document.getElementById("letraInput").style.display="inline-block";document.getElementById("btnAdivinar").style.display="inline-block";document.getElementById("img").style.display="none";document.getElementById("btnEmpezar").style.display="none";palabraSecreta=listaPalabras[Math.floor(Math.random()*listaPalabras.length)].toLowerCase();letrasAdivinadas=Array(palabraSecreta.length).fill("_");document.getElementById("palabraGuiones").innerText=letrasAdivinadas.join(" ");dibujarEstructura()}function verificarLetra(){const e=document.getElementById("letraInput");const t=e.value.toLowerCase();e.value="";if(t&&t.length===1){if(palabraSecreta.includes(t)){for(let e=0;e<palabraSecreta.length;e++){if(palabraSecreta[e]===t){letrasAdivinadas[e]=t}}document.getElementById("palabraGuiones").innerText=letrasAdivinadas.join(" ");if(!letrasAdivinadas.includes("_")){document.getElementById("mensaje").innerText="¡Ganaste!";document.getElementById("btnReiniciar").style.display="inline-block";document.getElementById("letraInput").disabled=true;document.getElementById("btnAdivinar").disabled=true}}else{intentosFallidos++;dibujarAhorcado(intentosFallidos);if(intentosFallidos===maxIntentos){document.getElementById("mensaje").innerText="¡Perdiste! La palabra era: "+palabraSecreta;document.getElementById("btnReiniciar").style.display="inline-block";document.getElementById("letraInput").disabled=true;document.getElementById("btnAdivinar").disabled=true}}}}function dibujarEstructura(){ctx.beginPath();ctx.moveTo(50,380);ctx.lineTo(250,380);ctx.stroke();ctx.beginPath();ctx.moveTo(100,380);ctx.lineTo(100,50);ctx.lineTo(200,50);ctx.lineTo(200,100);ctx.stroke()}function dibujarAhorcado(e){switch(e){case 1:ctx.beginPath();ctx.arc(200,130,30,0,Math.PI*2);ctx.stroke();break;case 2:ctx.beginPath();ctx.moveTo(200,160);ctx.lineTo(200,250);ctx.stroke();break;case 3:ctx.beginPath();ctx.moveTo(200,180);ctx.lineTo(170,220);ctx.stroke();break;case 4:ctx.beginPath();ctx.moveTo(200,180);ctx.lineTo(230,220);ctx.stroke();break;case 5:ctx.beginPath();ctx.moveTo(200,250);ctx.lineTo(170,300);ctx.stroke();break;case 6:ctx.beginPath();ctx.moveTo(200,250);ctx.lineTo(230,300);ctx.stroke();break}}function reiniciarJuego(){intentosFallidos=0;ctx.clearRect(0,0,canvas.width,canvas.height);document.getElementById("mensaje").innerText="";document.getElementById("btnReiniciar").style.display="none";document.getElementById("letraInput").disabled=false;document.getElementById("btnAdivinar").disabled=false;dibujarEstructura();empezarJuego()}iniciarJuego();