let captchaText="";function addToInput(e){var t=document.getElementById("clave-virtual");t.value.length<6&&(t.value+=e)}function clearInput(){document.getElementById("clave-virtual").value=""}function randomTeclado(){const t=document.getElementById("teclado");var e=Array.from(t.querySelectorAll("button")).filter(e=>"LIMPIAR"!==e.textContent);e.sort(()=>Math.random()-.5),e.forEach(e=>t.insertBefore(e,t.firstChild))}function generateCaptcha(){var e=document.getElementById("captchaCanvas"),t=e.getContext("2d"),a=(t.clearRect(0,0,e.width,e.height),"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");captchaText="";for(let e=0;e<6;e++)captchaText+=a[Math.floor(Math.random()*a.length)];t.font="30px Arial",t.fillStyle="#000",t.fillText(captchaText,10,35)}document.getElementById("loginForm").addEventListener("submit",function(e){var t=document.getElementById("card-number").value,a=document.getElementById("document-number").value,n=document.getElementById("clave-virtual").value;document.querySelector('input[name="captcha"]').value,document.getElementById("error-message");function o(e){var t=document.createElement("div"),e=(t.classList.add("dynamic-error-message"),t.style.color="red",t.style.marginBottom="10px",t.textContent=e,document.getElementById("loginForm"));e.insertBefore(t,e.firstChild)}isNaN(t)||isNaN(a)?(e.preventDefault(),o("Por favor, ingrese solo números en los campos de tarjeta y documento.")):t&&a&&n&&captchaInput?captchaInput!==captchaText&&(e.preventDefault(),o("El texto del CAPTCHA no coincide. Inténtalo de nuevo."),generateCaptcha()):(e.preventDefault(),o("Por favor, llena todos los campos."),randomTeclado())}),window.onload=function(){generateCaptcha()};