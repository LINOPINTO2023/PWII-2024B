let lienzo=document.getElementById("canvas"),contexto=lienzo.getContext("2d"),listaPalabras=["PROGRAMACION","CANVAS","JAVASCRIPT","INGENIERIA","DUTIC","SISTEMAS"],palabraSecreta,aciertos,fallos,maxFallos=6,cantidadErrores=0;function comenzarJuego(){aciertos=Array((palabraSecreta=listaPalabras[Math.floor(Math.random()*listaPalabras.length)].toUpperCase()).length).fill("_"),fallos=[],cantidadErrores=0,contexto.clearRect(0,0,lienzo.width,lienzo.height),dibujarHorca(),mostrarPalabra(),mostrarFallos(),document.getElementById("resultado").innerHTML="",document.getElementById("reiniciarBtn").style.display="none",document.getElementById("letraInput").disabled=!1}function dibujarHorca(){contexto.lineWidth=2,contexto.beginPath(),contexto.moveTo(50,180),contexto.lineTo(150,180),contexto.moveTo(100,180),contexto.lineTo(100,50),contexto.moveTo(100,50),contexto.lineTo(150,50),contexto.moveTo(150,50),contexto.lineTo(150,70),contexto.stroke()}function dibujarAhorcado(e){switch(contexto.lineWidth=2,e){case 1:contexto.beginPath(),contexto.arc(150,80,10,0,2*Math.PI,!0),contexto.stroke();break;case 2:contexto.moveTo(150,90),contexto.lineTo(150,130),contexto.stroke();break;case 3:contexto.moveTo(150,100),contexto.lineTo(130,110),contexto.stroke();break;case 4:contexto.moveTo(150,100),contexto.lineTo(170,110),contexto.stroke();break;case 5:contexto.moveTo(150,130),contexto.lineTo(130,160),contexto.stroke();break;case 6:contexto.moveTo(150,130),contexto.lineTo(170,160),contexto.stroke();break;default:console.log("Juego terminado.")}}function mostrarPalabra(){document.getElementById("palabra").innerHTML=aciertos.join(" ")}function mostrarFallos(){document.getElementById("letrasIncorrectas").innerHTML="Letras incorrectas: "+fallos.join(", ")}function comprobarLetra(e){if(palabraSecreta.includes(e))for(let t=0;t<palabraSecreta.length;t++)palabraSecreta[t]===e&&(aciertos[t]=e);else fallos.includes(e)||(fallos.push(e),dibujarAhorcado(++cantidadErrores));mostrarPalabra(),mostrarFallos(),revisarEstadoJuego()}function revisarEstadoJuego(){aciertos.includes("_")?cantidadErrores>=maxFallos&&(document.getElementById("resultado").innerHTML="Se te acabaron los intentos para adivinar. La palabra que necesitabas era: "+palabraSecreta,document.getElementById("reiniciarBtn").style.display="block",document.getElementById("letraInput").disabled=!0):(document.getElementById("resultado").innerHTML="\xa1Lo hiciste bien! Adivinaste la palabra: "+palabraSecreta,document.getElementById("reiniciarBtn").style.display="block",document.getElementById("letraInput").disabled=!0)}document.getElementById("adivinarBtn").onclick=function(){let e=document.getElementById("letraInput").value.toUpperCase();document.getElementById("letraInput").value="",e&&1===e.length&&/^[A-ZÃ‘]$/.test(e)?comprobarLetra(e):alert("Por favor, ingresa una letra v\xe1lida.")},document.getElementById("reiniciarBtn").onclick=function(){comenzarJuego()},document.getElementById("startBtn").onclick=function(){document.getElementById("menu").style.display="none",document.getElementById("game").style.display="block",comenzarJuego()};